<div class="container py-4 game-container">

  <div class="card mb-4 shadow-lg border-0 header-card">
    <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center">
      <h3 class="fw-bold m-0 text-primary">
        Pontt√°bl√°zat
      </h3>

      <div *ngIf="winner" class="winner-banner mt-3 mt-md-0">
        <span class="fw-bold">üèÜ Nyertes: {{ winner }}</span>
      </div>
    </div>
  </div>

  <div class="card shadow table-card border-0">
    <div class="card-body">

      <div class="table-responsive">
        <table class="table align-middle text-center scoreboard-table">
          <thead>
            <tr>
              <th class="round-header">K√∂r</th>
              <th *ngFor="let t of teams" class="team-header">
                {{ t.name }}
              </th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let r of rounds" class="round-row">
              <td class="round-number">#{{ r.roundNumber }}</td>
              <td *ngFor="let t of teams" class="score-cell">
                <span class="score-badge">
                  {{ getScoreFor(r, t) ?? '-' }}
                </span>
              </td>
            </tr>

            <tr class="new-round-row" *ngIf="!winner">
              <td class="new-round-title">√öj k√∂r</td>
              <td *ngFor="let t of teams">
                <input
                  type="number"
                  class="form-control form-control-sm new-score-input"
                  [(ngModel)]="newRoundScores[t.id]"
                  placeholder="0"
                />
              </td>
            </tr>
          </tbody>

          <tfoot>
            <tr class="total-row">
              <th>√ñsszesen</th>
              <th *ngFor="let t of teams" class="total-score">
                {{ totals[t.id] ?? 0 }}
              </th>
            </tr>
          </tfoot>
        </table>
      </div>

      <div class="text-end mt-3">
        <button
          class="btn btn-lg btn-success px-5 save-btn"
          (click)="addRound()"
          [disabled]="!!winner || teams.length === 0"
        >
          K√∂r ment√©se
        </button>
      </div>

    </div>
  </div>

  <div
    *ngIf="winner"
    class="alert alert-success text-center mt-4 py-3 fs-5 shadow-sm winner-alert"
  >
    üéâ <strong>{{ winner }}</strong> el√©rte a 10 000 pontot! üéâ
  </div>

</div>
