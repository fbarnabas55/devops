<!-- src/app/pages/game-board/game-board.component.html -->

<div class="container py-4">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
      <h5 class="mb-0">JÃ¡tÃ©k Ã¡llÃ¡sa</h5>
      <span *ngIf="winner" class="badge bg-warning text-dark">
        Nyertes: {{ winner }}
      </span>
    </div>

    <div class="card-body">

      <div class="table-responsive mb-3">
        <table class="table table-striped table-hover align-middle text-center">
          <thead class="table-dark">
            <tr>
              <th style="width: 80px;">KÃ¶r</th>
              <th *ngFor="let t of teams">
                {{ t.name }}
              </th>
            </tr>
          </thead>

          <tbody>
            <!-- korÃ¡bbi kÃ¶rÃ¶k -->
            <tr *ngFor="let r of rounds">
              <td><strong>{{ r.roundNumber }}</strong></td>
              <td *ngFor="let t of teams">
                {{ getScoreFor(r, t) ?? '-' }}
              </td>
            </tr>

            <!-- Ãºj kÃ¶r beviteli sor -->
            <tr class="table-secondary" *ngIf="!winner">
              <td><strong>Ãšj kÃ¶r</strong></td>
              <td *ngFor="let t of teams">
                <input
                  type="number"
                  class="form-control form-control-sm text-center"
                  [(ngModel)]="newRoundScores[t.id]"
                />
              </td>
            </tr>
          </tbody>

          <tfoot>
            <tr class="table-dark">
              <th>Ã–sszesen</th>
              <th *ngFor="let t of teams">
                {{ totals[t.id] ?? 0 }}
              </th>
            </tr>
          </tfoot>
        </table>
      </div>

      <div class="d-flex justify-content-between align-items-center">
        <button
          class="btn btn-success"
          (click)="addRound()"
          [disabled]="!!winner || teams.length === 0"
        >
          KÃ¶r mentÃ©se
        </button>

        <div *ngIf="winner" class="alert alert-success mb-0 py-2 px-3">
          ðŸŽ‰ <strong>{{ winner }}</strong> elÃ©rte a 10 000 pontot! ðŸŽ‰
        </div>
      </div>

    </div>
  </div>
</div>
